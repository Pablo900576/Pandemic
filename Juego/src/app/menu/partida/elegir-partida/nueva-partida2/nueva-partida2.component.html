<div class="general">
  <div class="mapaCiudades" [style.transform]="zoomTransform" (mousedown)="onMouseDown($event)"
    (mousemove)="onMouseMove($event)" (mouseup)="onMouseUp()">
    <svg class="city-lines" xmlns="http://www.w3.org/2000/svg">
      <ng-container *ngFor="let ciudad of ciudades; let i = index">
        <ng-container *ngFor="let destino of ciudad.connectedCities">
          <line *ngIf="!isConnectionRendered(ciudad.name, destino)" [attr.x1]="ciudad.coordinates.x"
            [attr.y1]="ciudad.coordinates.y" [attr.x2]="getCityCoordinates(destino)?.x"
            [attr.y2]="getCityCoordinates(destino)?.y" stroke="blue" stroke-width="2" />
        </ng-container>
      </ng-container>

    </svg>
    <img src="/images/fotoMapaEuropa.jpg" alt="Mapa" class="map-image" draggable="false">
    <div *ngFor="let ciudad of ciudades" class="city-point" [style.top.px]="ciudad.coordinates.y"
      [style.left.px]="ciudad.coordinates.x" (click)="selectCity(ciudad)">
    </div>
  </div>
 <div class="menu">
      <div class="controls">
        <button (click)="zoomIn()" id="botonZoomIn">+</button>
        <button (click)="zoomOut()" id="botonZoomOut">-</button>
      </div>
      <div class="contador">
        <strong>Ronda: {{numeroRonda}}</strong>
        <button class="button-ronda" (click)="saltarRonda()">Saltar</button>
      </div>
      <div class="vacunas-container">
        <strong>Vacunas:</strong>
        <div class="vacunas">
          <img src="/images/vacunas.png">
          <img src="/images/vacunas.png">
          <img src="/images/vacunas.png">
          <img src="/images/vacunas.png">
        </div>
      <button class="button-salir" routerLink="../../../">Salir</button>
    </div>
  <div *ngIf="ciudadSeleccionada" class="city-info">
    <h2>{{ ciudadSeleccionada.name }}</h2>
    <p><strong>Regi√≥n:</strong> {{ ciudadSeleccionada.region }}</p>
    <p><strong>Conectada a:</strong> {{ ciudadSeleccionada.connectedCities.join(', ') }}</p>
    <p><strong>Enfermedades:</strong></p>
    <ul>
      <li>Verde: {{ ciudadSeleccionada.diseaseCount.green }}</li>
      <li>Rojo: {{ ciudadSeleccionada.diseaseCount.red }}</li>
      <li>Azul: {{ ciudadSeleccionada.diseaseCount.blue }}</li>
      <li>Amarillo: {{ ciudadSeleccionada.diseaseCount.yellow }}</li>
    </ul>
    <button (click)="closeCityInfo()" class="button-cerrar">Cerrar</button>
  </div>
</div>
